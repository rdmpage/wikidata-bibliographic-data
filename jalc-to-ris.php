<?php
//----------------------------------------------------------------------------------------
function get($url, $user_agent='', $content_type = '')
{	
	$data = null;

	$opts = array(
	  CURLOPT_URL =>$url,
	  CURLOPT_FOLLOWLOCATION => TRUE,
	  CURLOPT_RETURNTRANSFER => TRUE,
	  
		CURLOPT_SSL_VERIFYHOST=> FALSE,
		CURLOPT_SSL_VERIFYPEER=> FALSE,
	  
	);

	if ($content_type != '')
	{
		
		$opts[CURLOPT_HTTPHEADER] = array(
			"Accept: " . $content_type, 
			"User-agent: Mozilla/5.0 (iPad; U; CPU OS 3_2_1 like Mac OS X; en-us) AppleWebKit/531.21.10 (KHTML, like Gecko) Mobile/7B405" 
		);
		
	}
	
	$ch = curl_init();
	curl_setopt_array($ch, $opts);
	$data = curl_exec($ch);
	$info = curl_getinfo($ch); 
	curl_close($ch);
	
	return $data;
}

//----------------------------------------------------------------------------------------
// Convert a simple CSL object to RIS
function csl_to_ris($csl)
{
	$csl_ris_map  = array(
		'type'				=> 'TY',
	
		'title' 			=> 'TI',
		
		'author' 			=> 'AU',
				
		'container-title' 	=> 'JO',
		'ISSN' 				=> 'SN',
		
		'volume' 			=> 'VL',
		'issue' 			=> 'IS',
		
		'spage' 			=> 'SP',
		'epage' 			=> 'EP',
		
		'year' 				=> 'Y1',
		'date'				=> 'PY',
		
		'abstract'			=> 'N2',
		
		'URL'				=> 'UR',
		'DOI'				=> 'DO',

		'publisher'			=> 'PB',
		'publisher-place'	=> 'PP',
		);

	$ris_keys = array_values($csl_ris_map);
	$ris_keys[] = 'ER';
	
	foreach ($csl as $k => $v)
	{
		switch ($k)
		{
			case 'type':
				switch ($v)
				{	
					case 'article-journal':
						$ris_values[$csl_ris_map[$k]][] = 'JOUR';		
						break;

					case 'book':
						$ris_values[$csl_ris_map[$k]][] = 'BOOK';		
						break;

					case 'chapter':
						$ris_values[$csl_ris_map[$k]][] = 'CHAP';		
						break;					
				
					default:
						$ris_values[$csl_ris_map[$k]][] = 'GEN';		
						break;
				}
				break;
				
			case 'title':
			case 'container-title':
			case 'volume':
			case 'issue':
			case 'DOI':
			case 'publisher':
			case 'publisher-place':
				$ris_values[$csl_ris_map[$k]][] = $v;				
				break;
				
			case 'page':
				if (preg_match('/(.*)-(.*)/', $v, $m))
				{
					$ris_values['SP'][] = $m[1];
					$ris_values['EP'][] = $m[2];						
				}
				else
				{
					$ris_values['SP'][] = $v;
				}
				break;
				
			case 'issued':
				$ris_values['Y1'][] = $v->{'date-parts'}[0][0];
				break;
				
			case 'ISSN':
				if (is_array($v))
				{
					$issn = $v[0];
					if (strlen($issn) == 8)
					{
						$issn = substr($issn, 0, 4) . '-' . substr($issn, 4);
					}
					$ris_values[$csl_ris_map[$k]][] = $issn;	
				}
				else
				{
					$issn = $v;
					if (strlen($issn) == 8)
					{
						$issn = substr($issn, 0, 4) . '-' . substr($issn, 4);
					}
					$ris_values[$csl_ris_map[$k]][] = $issn;
				}
				break;
				
			case 'author':
				foreach ($v as $author)
				{
					if (isset($author->literal))
					{
						$ris_values[$csl_ris_map[$k]][] = $author->literal;
					}
					else
					{
						$name_parts = array();
						if (isset($author->given))
						{
							$name_parts[] = $author->given;
						}
						if (isset($author->family))
						{
							$name_parts[] = $author->family;
						}
						$name = trim(join(' ', $name_parts));
						if ($name != '')
						{
							$ris_values[$csl_ris_map[$k]][] = $name;
						}
					}
				}
				break;
				
			default:
				break;
		}

	
	}
	$ris_values['ER'][] = '';	
		
	//print_r($ris_values);
	
	$ris = '';
	
	foreach ($ris_keys as $k)
	{
		if (isset($ris_values[$k]))
		{
			foreach ($ris_values[$k] as $v)
			{
				$ris .= $k . '  - ' . $v . "\n";
			}
		
		}	
	}
	
	return $ris;
}


$dois=array(
'10.18968/jhbl.1.0_1',
'10.18968/jhbl.1.0_i',
'10.18968/jhbl.91.0_1',
'10.18968/jhbl.91.0_137',
'10.18968/jhbl.91.0_173',
'10.18968/jhbl.91.0_205',
'10.18968/jhbl.91.0_229',
'10.18968/jhbl.91.0_265',
'10.18968/jhbl.91.0_277',
'10.18968/jhbl.91.0_289',
'10.18968/jhbl.91.0_295',
'10.18968/jhbl.91.0_301',
'10.18968/jhbl.91.0_317',
'10.18968/jhbl.92.0_1',
'10.18968/jhbl.92.0_51',
'10.18968/jhbl.92.0_91',
'10.18968/jhbl.92.0_125',
'10.18968/jhbl.92.0_165',
'10.18968/jhbl.92.0_175',
'10.18968/jhbl.92.0_181',
'10.18968/jhbl.92.0_191',
'10.18968/jhbl.92.0_199',
'10.18968/jhbl.92.0_211',
'10.18968/jhbl.92.0_225',
'10.18968/jhbl.92.0_231',
'10.18968/jhbl.92.0_245',
'10.18968/jhbl.92.0_261',
'10.18968/jhbl.92.0_277',
'10.18968/jhbl.92.0_285',
'10.18968/jhbl.92.0_291',
'10.18968/jhbl.93.0_1',
'10.18968/jhbl.93.0_69',
'10.18968/jhbl.93.0_79',
'10.18968/jhbl.93.0_101',
'10.18968/jhbl.93.0_117',
'10.18968/jhbl.93.0_141',
'10.18968/jhbl.93.0_155',
'10.18968/jhbl.93.0_175',
'10.18968/jhbl.93.0_189',
'10.18968/jhbl.93.0_201',
'10.18968/jhbl.93.0_215',
'10.18968/jhbl.93.0_223',
'10.18968/jhbl.93.0_247',
'10.18968/jhbl.93.0_259',
'10.18968/jhbl.93.0_273',
'10.18968/jhbl.93.0_293',
'10.18968/jhbl.93.0_305',
'10.18968/jhbl.93.0_319',
'10.18968/jhbl.93.0_331',
'10.18968/jhbl.94.0_1',
'10.18968/jhbl.94.0_87',
'10.18968/jhbl.94.0_107',
'10.18968/jhbl.94.0_115',
'10.18968/jhbl.94.0_159',
'10.18968/jhbl.94.0_179',
'10.18968/jhbl.94.0_187',
'10.18968/jhbl.94.0_197',
'10.18968/jhbl.94.0_205',
'10.18968/jhbl.94.0_261',
'10.18968/jhbl.94.0_293',
'10.18968/jhbl.95.0_1',
'10.18968/jhbl.95.0_71',
'10.18968/jhbl.95.0_155',
'10.18968/jhbl.95.0_199',
'10.18968/jhbl.95.0_207',
'10.18968/jhbl.95.0_219',
'10.18968/jhbl.95.0_229',
'10.18968/jhbl.95.0_235',
'10.18968/jhbl.95.0_249',
'10.18968/jhbl.95.0_263',
'10.18968/jhbl.95.0_271',
'10.18968/jhbl.95.0_285',
'10.18968/jhbl.95.0_293',
'10.18968/jhbl.6.0_i',
'10.18968/jhbl.6.0_1',
'10.18968/jhbl.6.0_5',
'10.18968/jhbl.6.0_6',
'10.18968/jhbl.6.0_7',
'10.18968/jhbl.6.0_24',
'10.18968/jhbl.6.0_ii',
'10.18968/jhbl.6.0_iii',
'10.18968/jhbl.96.0_1',
'10.18968/jhbl.96.0_183',
'10.18968/jhbl.96.0_211',
'10.18968/jhbl.96.0_223',
'10.18968/jhbl.96.0_231',
'10.18968/jhbl.96.0_245',
'10.18968/jhbl.96.0_261',
'10.18968/jhbl.96.0_273',
'10.18968/jhbl.96.0_281',
'10.18968/jhbl.97.0_1',
'10.18968/jhbl.97.0_39',
'10.18968/jhbl.97.0_81',
'10.18968/jhbl.97.0_97',
'10.18968/jhbl.97.0_117',
'10.18968/jhbl.97.0_127',
'10.18968/jhbl.97.0_161',
'10.18968/jhbl.97.0_183',
'10.18968/jhbl.97.0_195',
'10.18968/jhbl.97.0_207',
'10.18968/jhbl.97.0_227',
'10.18968/jhbl.97.0_233',
'10.18968/jhbl.97.0_249',
'10.18968/jhbl.97.0_263',
'10.18968/jhbl.97.0_271',
'10.18968/jhbl.97.0_281',
'10.18968/jhbl.97.0_287',
'10.18968/jhbl.97.0_299',
'10.18968/jhbl.97.0_309',
'10.18968/jhbl.97.0_317',
'10.18968/jhbl.98.0_1',
'10.18968/jhbl.98.0_47',
'10.18968/jhbl.98.0_123',
'10.18968/jhbl.98.0_131',
'10.18968/jhbl.98.0_149',
'10.18968/jhbl.98.0_175',
'10.18968/jhbl.98.0_193',
'10.18968/jhbl.98.0_205',
'10.18968/jhbl.98.0_213',
'10.18968/jhbl.98.0_259',
'10.18968/jhbl.98.0_299',
'10.18968/jhbl.99.0_1',
'10.18968/jhbl.99.0_107',
'10.18968/jhbl.99.0_185',
'10.18968/jhbl.99.0_197',
'10.18968/jhbl.99.0_207',
'10.18968/jhbl.99.0_233',
'10.18968/jhbl.99.0_245',
'10.18968/jhbl.99.0_259',
'10.18968/jhbl.99.0_271',
'10.18968/jhbl.99.0_275',
'10.18968/jhbl.99.0_297',
'10.18968/jhbl.99.0_307',
'10.18968/jhbl.99.0_319',
'10.18968/jhbl.100.0_1',
'10.18968/jhbl.100.0_15',
'10.18968/jhbl.100.0_31',
'10.18968/jhbl.100.0_35',
'10.18968/jhbl.100.0_41',
'10.18968/jhbl.100.0_53',
'10.18968/jhbl.100.0_69',
'10.18968/jhbl.100.0_77',
'10.18968/jhbl.100.0_89',
'10.18968/jhbl.100.0_101',
'10.18968/jhbl.100.0_119',
'10.18968/jhbl.100.0_125',
'10.18968/jhbl.100.0_135',
'10.18968/jhbl.100.0_143',
'10.18968/jhbl.100.0_191',
'10.18968/jhbl.100.0_201',
'10.18968/jhbl.100.0_211',
'10.18968/jhbl.100.0_293',
'10.18968/jhbl.100.0_305',
'10.18968/jhbl.100.0_311',
'10.18968/jhbl.100.0_325',
'10.18968/jhbl.100.0_333',
'10.18968/jhbl.100.0_351',
'10.18968/jhbl.100.0_355',
'10.18968/jhbl.100.0_361',
'10.18968/jhbl.100.0_407',
'10.18968/jhbl.100.0_419',
'10.18968/jhbl.100.0_431',
'10.18968/jhbl.100.0_443',
'10.18968/jhbl.100.0_451',
'10.18968/jhbl.100.0_465',
'10.18968/jhbl.100.0_469',
'10.18968/jhbl.100.0_495',
'10.18968/jhbl.100.0_517',
'10.18968/jhbl.100.0_527',
'10.18968/jhbl.100.0_553',
'10.18968/jhbl.100.0_577',
'10.18968/jhbl.100.0_581',
'10.18968/jhbl.100.0_603',
'10.18968/jhbl.100.0_617',
'10.18968/jhbl.100.0_625',
'10.18968/jhbl.100.0_635',
'10.18968/jhbl.100.0_651',
'10.18968/jhbl.100.0_671',
'10.18968/jhbl.100.0_695',
'10.18968/jhbl.100.0_721',
'10.18968/jhbl.100.0_739',
'10.18968/jhbl.100.0_753',
'10.18968/jhbl.100.0_765',
'10.18968/jhbl.100.0_783',
'10.18968/jhbl.100.0_797',
'10.18968/jhbl.100.0_809',
'10.18968/jhbl.100.0_853',
'10.18968/jhbl.100.0_855',
'10.18968/jhbl.100.0_865',
'10.18968/jhbl.100.0_871',
'10.18968/jhbl.100.0_881',
'10.18968/jhbl.100.0_appendix',
'10.18968/jhbl.7.0_i',
'10.18968/jhbl.7.0_1',
'10.18968/jhbl.7.0_22',
'10.18968/jhbl.7.0_23',
'10.18968/jhbl.7.0_38',
'10.18968/jhbl.7.0_62',
'10.18968/jhbl.7.0_69',
'10.18968/jhbl.7.0_76',
'10.18968/jhbl.8.0_1',
'10.18968/jhbl.8.0_5',
'10.18968/jhbl.8.0_17',
'10.18968/jhbl.8.0_18',
'10.18968/jhbl.8.0_21',
'10.18968/jhbl.8.0_46',
'10.18968/jhbl.8.0_55',
'10.18968/jhbl.8.0_62',
'10.18968/jhbl.8.0_63',
'10.18968/jhbl.8.0_67',
'10.18968/jhbl.9.0_1',
'10.18968/jhbl.9.0_16',
'10.18968/jhbl.9.0_17',
'10.18968/jhbl.9.0_25',
'10.18968/jhbl.9.0_32',
'10.18968/jhbl.9.0_45',
'10.18968/jhbl.9.0_62_1',
'10.18968/jhbl.9.0_62_2',
'10.18968/jhbl.9.0_63',
'10.18968/jhbl.9.0_i',
'10.18968/jhbl.10.0_i',
'10.18968/jhbl.10.0_1',
'10.18968/jhbl.10.0_23',
'10.18968/jhbl.10.0_30',
'10.18968/jhbl.10.0_35',
'10.18968/jhbl.10.0_49',
'10.18968/jhbl.10.0_56',
'10.18968/jhbl.10.0_57',
'10.18968/jhbl.10.0_59',
'10.18968/jhbl.10.0_63',
'10.18968/jhbl.10.0_ii',
'10.18968/jhbl.11.0_1',
'10.18968/jhbl.11.0_10',
'10.18968/jhbl.11.0_11',
'10.18968/jhbl.11.0_87',
'10.18968/jhbl.11.0_93',
'10.18968/jhbl.11.0_99',
'10.18968/jhbl.11.0_103',
'10.18968/jhbl.12.0_1',
'10.18968/jhbl.12.0_26',
'10.18968/jhbl.12.0_27',
'10.18968/jhbl.12.0_34',
'10.18968/jhbl.12.0_53',
'10.18968/jhbl.12.0_76',
'10.18968/jhbl.12.0_91',
'10.18968/jhbl.12.0_113',
'10.18968/jhbl.12.0_116',
'10.18968/jhbl.12.0_117',
'10.18968/jhbl.13.0_1',
'10.18968/jhbl.13.0_5',
'10.18968/jhbl.13.0_36',
'10.18968/jhbl.13.0_37',
'10.18968/jhbl.13.0_52',
'10.18968/jhbl.13.0_63',
'10.18968/jhbl.13.0_69',
'10.18968/jhbl.14.0_1',
'10.18968/jhbl.14.0_29',
'10.18968/jhbl.14.0_71',
'10.18968/jhbl.14.0_91',
'10.18968/jhbl.14.0_109',
'10.18968/jhbl.15.0_1',
'10.18968/jhbl.15.0_70',
'10.18968/jhbl.15.0_75',
'10.18968/jhbl.15.0_93',
'10.18968/jhbl.15.0_103',
'10.18968/jhbl.15.0_105',
'10.18968/jhbl.15.0_114',
'10.18968/jhbl.15.0_119',
'10.18968/jhbl.15.0_124',
'10.18968/jhbl.2.0_i_1',
'10.18968/jhbl.2.0_i_2',
'10.18968/jhbl.2.0_1',
'10.18968/jhbl.2.0_27',
'10.18968/jhbl.2.0_80',
'10.18968/jhbl.16.0_1',
'10.18968/jhbl.16.0_72',
'10.18968/jhbl.16.0_75',
'10.18968/jhbl.16.0_83',
'10.18968/jhbl.16.0_90',
'10.18968/jhbl.16.0_96',
'10.18968/jhbl.16.0_102',
'10.18968/jhbl.16.0_106',
'10.18968/jhbl.16.0_116',
'10.18968/jhbl.16.0_121',
'10.18968/jhbl.16.0_122',
'10.18968/jhbl.16.0_123',
'10.18968/jhbl.16.0_129',
'10.18968/jhbl.16.0_130',
'10.18968/jhbl.17.0_1',
'10.18968/jhbl.17.0_19',
'10.18968/jhbl.17.0_32',
'10.18968/jhbl.17.0_45',
'10.18968/jhbl.17.0_52',
'10.18968/jhbl.17.0_55',
'10.18968/jhbl.17.0_58',
'10.18968/jhbl.17.0_59',
'10.18968/jhbl.17.0_64',
'10.18968/jhbl.17.0_74',
'10.18968/jhbl.17.0_75',
'10.18968/jhbl.17.0_76',
'10.18968/jhbl.18.0_1',
'10.18968/jhbl.18.0_14',
'10.18968/jhbl.18.0_27',
'10.18968/jhbl.18.0_65',
'10.18968/jhbl.18.0_69',
'10.18968/jhbl.18.0_70',
'10.18968/jhbl.18.0_78',
'10.18968/jhbl.18.0_93',
'10.18968/jhbl.18.0_98',
'10.18968/jhbl.18.0_102',
'10.18968/jhbl.18.0_106',
'10.18968/jhbl.18.0_119',
'10.18968/jhbl.19.0_1',
'10.18968/jhbl.19.0_25',
'10.18968/jhbl.19.0_60',
'10.18968/jhbl.19.0_67',
'10.18968/jhbl.19.0_71',
'10.18968/jhbl.19.0_76',
'10.18968/jhbl.19.0_119',
'10.18968/jhbl.19.0_133',
'10.18968/jhbl.19.0_138',
'10.18968/jhbl.19.0_139',
'10.18968/jhbl.20.0_1',
'10.18968/jhbl.20.0_17',
'10.18968/jhbl.20.0_33',
'10.18968/jhbl.20.0_54',
'10.18968/jhbl.20.0_107',
'10.18968/jhbl.20.0_119',
'10.18968/jhbl.20.0_123',
'10.18968/jhbl.20.0_124',
'10.18968/jhbl.20.0_142',
'10.18968/jhbl.20.0_245',
'10.18968/jhbl.20.0_272',
'10.18968/jhbl.20.0_288',
'10.18968/jhbl.20.0_289',
'10.18968/jhbl.20.0_295',
'10.18968/jhbl.20.0_303',
'10.18968/jhbl.20.0_304',
'10.18968/jhbl.20.0_352',
'10.18968/jhbl.20.0_355',
'10.18968/jhbl.61.0_1',
'10.18968/jhbl.61.0_45',
'10.18968/jhbl.61.0_65',
'10.18968/jhbl.61.0_75',
'10.18968/jhbl.61.0_93',
'10.18968/jhbl.61.0_101',
'10.18968/jhbl.61.0_109',
'10.18968/jhbl.61.0_123',
'10.18968/jhbl.61.0_249',
'10.18968/jhbl.61.0_257',
'10.18968/jhbl.61.0_269',
'10.18968/jhbl.61.0_273',
'10.18968/jhbl.61.0_281',
'10.18968/jhbl.61.0_299',
'10.18968/jhbl.61.0_309',
'10.18968/jhbl.61.0_333',
'10.18968/jhbl.61.0_423',
'10.18968/jhbl.61.0_477',
'10.18968/jhbl.61.0_487',
'10.18968/jhbl.61.0_499',
'10.18968/jhbl.61.0_525',
'10.18968/jhbl.62.0_1',
'10.18968/jhbl.62.0_101',
'10.18968/jhbl.62.0_111',
'10.18968/jhbl.62.0_121',
'10.18968/jhbl.62.0_137',
'10.18968/jhbl.62.0_151',
'10.18968/jhbl.62.0_161',
'10.18968/jhbl.62.0_183',
'10.18968/jhbl.62.0_191',
'10.18968/jhbl.62.0_201',
'10.18968/jhbl.62.0_205',
'10.18968/jhbl.62.0_269',
'10.18968/jhbl.62.0_281',
'10.18968/jhbl.62.0_289',
'10.18968/jhbl.62.0_299',
'10.18968/jhbl.62.0_331',
'10.18968/jhbl.62.0_339',
'10.18968/jhbl.62.0_361',
'10.18968/jhbl.62.0_367',
'10.18968/jhbl.62.0_387',
'10.18968/jhbl.62.0_417',
'10.18968/jhbl.63.0_1',
'10.18968/jhbl.63.0_77',
'10.18968/jhbl.63.0_98',
'10.18968/jhbl.63.0_99',
'10.18968/jhbl.63.0_107',
'10.18968/jhbl.63.0_133',
'10.18968/jhbl.63.0_219',
'10.18968/jhbl.63.0_231',
'10.18968/jhbl.63.0_237',
'10.18968/jhbl.63.0_247',
'10.18968/jhbl.63.0_351',
'10.18968/jhbl.63.0_357',
'10.18968/jhbl.63.0_367',
'10.18968/jhbl.63.0_373',
'10.18968/jhbl.63.0_395',
'10.18968/jhbl.63.0_411',
'10.18968/jhbl.63.0_421',
'10.18968/jhbl.63.0_425',
'10.18968/jhbl.63.0_437',
'10.18968/jhbl.63.0_445',
'10.18968/jhbl.63.0_453',
'10.18968/jhbl.63.0_473',
'10.18968/jhbl.63.0_493',
'10.18968/jhbl.64.0_1',
'10.18968/jhbl.64.0_5',
'10.18968/jhbl.64.0_15',
'10.18968/jhbl.64.0_29',
'10.18968/jhbl.64.0_37',
'10.18968/jhbl.64.0_47',
'10.18968/jhbl.64.0_59',
'10.18968/jhbl.64.0_67',
'10.18968/jhbl.64.0_71',
'10.18968/jhbl.64.0_87',
'10.18968/jhbl.64.0_97',
'10.18968/jhbl.64.0_109',
'10.18968/jhbl.64.0_143',
'10.18968/jhbl.64.0_151',
'10.18968/jhbl.64.0_159',
'10.18968/jhbl.64.0_169',
'10.18968/jhbl.64.0_177',
'10.18968/jhbl.64.0_187',
'10.18968/jhbl.64.0_197',
'10.18968/jhbl.64.0_219',
'10.18968/jhbl.64.0_237',
'10.18968/jhbl.64.0_271',
'10.18968/jhbl.64.0_327',
'10.18968/jhbl.64.0_335',
'10.18968/jhbl.64.0_347',
'10.18968/jhbl.64.0_359',
'10.18968/jhbl.64.0_367',
'10.18968/jhbl.64.0_389',
'10.18968/jhbl.64.0_401',
'10.18968/jhbl.64.0_411',
'10.18968/jhbl.64.0_429',
'10.18968/jhbl.64.0_437',
'10.18968/jhbl.64.0_451',
'10.18968/jhbl.65.0_1',
'10.18968/jhbl.65.0_81',
'10.18968/jhbl.65.0_145',
'10.18968/jhbl.65.0_207',
'10.18968/jhbl.65.0_303',
'10.18968/jhbl.65.0_311',
'10.18968/jhbl.65.0_323',
'10.18968/jhbl.65.0_335',
'10.18968/jhbl.65.0_379',
'10.18968/jhbl.65.0_391',
'10.18968/jhbl.65.0_403',
'10.18968/jhbl.65.0_411',
'10.18968/jhbl.3.0_i',
'10.18968/jhbl.3.0_1',
'10.18968/jhbl.3.0_37',
'10.18968/jhbl.3.0_53',
'10.18968/jhbl.3.0_ii',
'10.18968/jhbl.66.0_i',
'10.18968/jhbl.66.0_v',
'10.18968/jhbl.66.0_1',
'10.18968/jhbl.66.0_133',
'10.18968/jhbl.66.0_197',
'10.18968/jhbl.66.0_231',
'10.18968/jhbl.66.0_255',
'10.18968/jhbl.66.0_263',
'10.18968/jhbl.66.0_271',
'10.18968/jhbl.66.0_283',
'10.18968/jhbl.66.0_299',
'10.18968/jhbl.66.0_307',
'10.18968/jhbl.66.0_321',
'10.18968/jhbl.66.0_331',
'10.18968/jhbl.66.0_337',
'10.18968/jhbl.66.0_343',
'10.18968/jhbl.66.0_359',
'10.18968/jhbl.66.0_371',
'10.18968/jhbl.67.0_1',
'10.18968/jhbl.67.0_59',
'10.18968/jhbl.67.0_109',
'10.18968/jhbl.67.0_203',
'10.18968/jhbl.67.0_243',
'10.18968/jhbl.67.0_249',
'10.18968/jhbl.67.0_255',
'10.18968/jhbl.67.0_263',
'10.18968/jhbl.67.0_267',
'10.18968/jhbl.67.0_291',
'10.18968/jhbl.67.0_297',
'10.18968/jhbl.67.0_313',
'10.18968/jhbl.67.0_323',
'10.18968/jhbl.67.0_331',
'10.18968/jhbl.67.0_335',
'10.18968/jhbl.67.0_365',
'10.18968/jhbl.67.0_373',
'10.18968/jhbl.67.0_377',
'10.18968/jhbl.67.0_383',
'10.18968/jhbl.67.0_389',
'10.18968/jhbl.67.0_395',
'10.18968/jhbl.67.0_399',
'10.18968/jhbl.67.0_407',
'10.18968/jhbl.67.0_415',
'10.18968/jhbl.67.0_423',
'10.18968/jhbl.68.0_1',
'10.18968/jhbl.68.0_193',
'10.18968/jhbl.68.0_235',
'10.18968/jhbl.68.0_239',
'10.18968/jhbl.68.0_255',
'10.18968/jhbl.68.0_269',
'10.18968/jhbl.68.0_279',
'10.18968/jhbl.68.0_285',
'10.18968/jhbl.68.0_293',
'10.18968/jhbl.68.0_303',
'10.18968/jhbl.68.0_317',
'10.18968/jhbl.68.0_367',
'10.18968/jhbl.68.0_381',
'10.18968/jhbl.68.0_441',
'10.18968/jhbl.69.0_1',
'10.18968/jhbl.69.0_21',
'10.18968/jhbl.69.0_37',
'10.18968/jhbl.69.0_49',
'10.18968/jhbl.69.0_65',
'10.18968/jhbl.69.0_79',
'10.18968/jhbl.69.0_87',
'10.18968/jhbl.69.0_101',
'10.18968/jhbl.69.0_107',
'10.18968/jhbl.69.0_117',
'10.18968/jhbl.69.0_121',
'10.18968/jhbl.69.0_129',
'10.18968/jhbl.69.0_133',
'10.18968/jhbl.69.0_147',
'10.18968/jhbl.69.0_171',
'10.18968/jhbl.69.0_185',
'10.18968/jhbl.69.0_195',
'10.18968/jhbl.69.0_203',
'10.18968/jhbl.69.0_257',
'10.18968/jhbl.69.0_265',
'10.18968/jhbl.69.0_269',
'10.18968/jhbl.69.0_277',
'10.18968/jhbl.69.0_313',
'10.18968/jhbl.69.0_323',
'10.18968/jhbl.70.0_i',
'10.18968/jhbl.70.0_1',
'10.18968/jhbl.70.0_43',
'10.18968/jhbl.70.0_51',
'10.18968/jhbl.70.0_63',
'10.18968/jhbl.70.0_79',
'10.18968/jhbl.70.0_91',
'10.18968/jhbl.70.0_107',
'10.18968/jhbl.70.0_119',
'10.18968/jhbl.70.0_143',
'10.18968/jhbl.70.0_151',
'10.18968/jhbl.70.0_157',
'10.18968/jhbl.70.0_167',
'10.18968/jhbl.70.0_181',
'10.18968/jhbl.70.0_293',
'10.18968/jhbl.71.0_1',
'10.18968/jhbl.71.0_37',
'10.18968/jhbl.71.0_47',
'10.18968/jhbl.71.0_55',
'10.18968/jhbl.71.0_69',
'10.18968/jhbl.71.0_75',
'10.18968/jhbl.71.0_83',
'10.18968/jhbl.71.0_113',
'10.18968/jhbl.71.0_119',
'10.18968/jhbl.71.0_123',
'10.18968/jhbl.71.0_133',
'10.18968/jhbl.71.0_165',
'10.18968/jhbl.71.0_175',
'10.18968/jhbl.71.0_255',
'10.18968/jhbl.71.0_263',
'10.18968/jhbl.71.0_267',
'10.18968/jhbl.71.0_289',
'10.18968/jhbl.71.0_367',
'10.18968/jhbl.71.0_377',
'10.18968/jhbl.72.0_1',
'10.18968/jhbl.72.0_89',
'10.18968/jhbl.72.0_97',
'10.18968/jhbl.72.0_105',
'10.18968/jhbl.72.0_117',
'10.18968/jhbl.72.0_127',
'10.18968/jhbl.72.0_141',
'10.18968/jhbl.72.0_151',
'10.18968/jhbl.72.0_163',
'10.18968/jhbl.73.0_1',
'10.18968/jhbl.73.0_125',
'10.18968/jhbl.73.0_139',
'10.18968/jhbl.73.0_147',
'10.18968/jhbl.73.0_159',
'10.18968/jhbl.73.0_175',
'10.18968/jhbl.73.0_183',
'10.18968/jhbl.73.0_221',
'10.18968/jhbl.73.0_231',
'10.18968/jhbl.73.0_249',
'10.18968/jhbl.73.0_255',
'10.18968/jhbl.73.0_263',
'10.18968/jhbl.74.0_1',
'10.18968/jhbl.74.0_3',
'10.18968/jhbl.74.0_5',
'10.18968/jhbl.74.0_23',
'10.18968/jhbl.74.0_29',
'10.18968/jhbl.74.0_35',
'10.18968/jhbl.74.0_45',
'10.18968/jhbl.74.0_59',
'10.18968/jhbl.74.0_71',
'10.18968/jhbl.74.0_77',
'10.18968/jhbl.74.0_83',
'10.18968/jhbl.74.0_95',
'10.18968/jhbl.74.0_105',
'10.18968/jhbl.74.0_121',
'10.18968/jhbl.74.0_139',
'10.18968/jhbl.74.0_145',
'10.18968/jhbl.74.0_155',
'10.18968/jhbl.74.0_171',
'10.18968/jhbl.74.0_183',
'10.18968/jhbl.74.0_193',
'10.18968/jhbl.74.0_205',
'10.18968/jhbl.74.0_219',
'10.18968/jhbl.74.0_227',
'10.18968/jhbl.74.0_235',
'10.18968/jhbl.74.0_249',
'10.18968/jhbl.74.0_261',
'10.18968/jhbl.74.0_271',
'10.18968/jhbl.74.0_287',
'10.18968/jhbl.74.0_299',
'10.18968/jhbl.74.0_303',
'10.18968/jhbl.74.0_317',
'10.18968/jhbl.74.0_325',
'10.18968/jhbl.74.0_406',
'10.18968/jhbl.75.0_1',
'10.18968/jhbl.75.0_15',
'10.18968/jhbl.75.0_23',
'10.18968/jhbl.75.0_33',
'10.18968/jhbl.75.0_41',
'10.18968/jhbl.75.0_45',
'10.18968/jhbl.75.0_51',
'10.18968/jhbl.75.0_73',
'10.18968/jhbl.75.0_85',
'10.18968/jhbl.75.0_97',
'10.18968/jhbl.75.0_107',
'10.18968/jhbl.75.0_119',
'10.18968/jhbl.75.0_133',
'10.18968/jhbl.75.0_149',
'10.18968/jhbl.75.0_161',
'10.18968/jhbl.75.0_173',
'10.18968/jhbl.75.0_179',
'10.18968/jhbl.75.0_183',
'10.18968/jhbl.75.0_193',
'10.18968/jhbl.75.0_201',
'10.18968/jhbl.75.0_211',
'10.18968/jhbl.75.0_237',
'10.18968/jhbl.75.0_243',
'10.18968/jhbl.75.0_257',
'10.18968/jhbl.75.0_263',
'10.18968/jhbl.75.0_267',
'10.18968/jhbl.75.0_275',
'10.18968/jhbl.75.0_295',
'10.18968/jhbl.75.0_305',
'10.18968/jhbl.75.0_319',
'10.18968/jhbl.75.0_345',
'10.18968/jhbl.75.0_359',
'10.18968/jhbl.75.0_365',
'10.18968/jhbl.75.0_371',
'10.18968/jhbl.75.0_378',
'10.18968/jhbl.4.0_1',
'10.18968/jhbl.4.0_48',
'10.18968/jhbl.4.0_49',
'10.18968/jhbl.76.0_1',
'10.18968/jhbl.76.0_13',
'10.18968/jhbl.76.0_21',
'10.18968/jhbl.76.0_35',
'10.18968/jhbl.76.0_41',
'10.18968/jhbl.76.0_59',
'10.18968/jhbl.76.0_67',
'10.18968/jhbl.76.0_75',
'10.18968/jhbl.76.0_87',
'10.18968/jhbl.76.0_97',
'10.18968/jhbl.76.0_105',
'10.18968/jhbl.76.0_115',
'10.18968/jhbl.76.0_127',
'10.18968/jhbl.76.0_147',
'10.18968/jhbl.76.0_159',
'10.18968/jhbl.76.0_173',
'10.18968/jhbl.76.0_183',
'10.18968/jhbl.76.0_197',
'10.18968/jhbl.76.0_207',
'10.18968/jhbl.76.0_221',
'10.18968/jhbl.76.0_227',
'10.18968/jhbl.76.0_235',
'10.18968/jhbl.76.0_249',
'10.18968/jhbl.76.0_263',
'10.18968/jhbl.76.0_273',
'10.18968/jhbl.76.0_283',
'10.18968/jhbl.76.0_293',
'10.18968/jhbl.76.0_313',
'10.18968/jhbl.77.0_1',
'10.18968/jhbl.77.0_177',
'10.18968/jhbl.77.0_233',
'10.18968/jhbl.77.0_255',
'10.18968/jhbl.77.0_273',
'10.18968/jhbl.77.0_287',
'10.18968/jhbl.77.0_295',
'10.18968/jhbl.77.0_307',
'10.18968/jhbl.77.0_315',
'10.18968/jhbl.78.0_1',
'10.18968/jhbl.78.0_41',
'10.18968/jhbl.78.0_63',
'10.18968/jhbl.78.0_83',
'10.18968/jhbl.78.0_111',
'10.18968/jhbl.78.0_119',
'10.18968/jhbl.78.0_137',
'10.18968/jhbl.78.0_183',
'10.18968/jhbl.78.0_189',
'10.18968/jhbl.78.0_237',
'10.18968/jhbl.78.0_243',
'10.18968/jhbl.79.0_1',
'10.18968/jhbl.79.0_43',
'10.18968/jhbl.79.0_99',
'10.18968/jhbl.79.0_107',
'10.18968/jhbl.79.0_115',
'10.18968/jhbl.79.0_129',
'10.18968/jhbl.79.0_139',
'10.18968/jhbl.79.0_163',
'10.18968/jhbl.80.0_1',
'10.18968/jhbl.80.0_149',
'10.18968/jhbl.80.0_217',
'10.18968/jhbl.80.0_233',
'10.18968/jhbl.80.0_241',
'10.18968/jhbl.80.0_247',
'10.18968/jhbl.80.0_251',
'10.18968/jhbl.80.0_271',
'10.18968/jhbl.80.0_297',
'10.18968/jhbl.80.0_307',
'10.18968/jhbl.80.0_323',
'10.18968/jhbl.80.0_331',
'10.18968/jhbl.81.0_1',
'10.18968/jhbl.81.0_53',
'10.18968/jhbl.81.0_123',
'10.18968/jhbl.81.0_155',
'10.18968/jhbl.81.0_175',
'10.18968/jhbl.81.0_243',
'10.18968/jhbl.81.0_249',
'10.18968/jhbl.81.0_257',
'10.18968/jhbl.81.0_263',
'10.18968/jhbl.81.0_273',
'10.18968/jhbl.81.0_281',
'10.18968/jhbl.81.0_307',
'10.18968/jhbl.82.0_i',
'10.18968/jhbl.82.0_1',
'10.18968/jhbl.82.0_15',
'10.18968/jhbl.82.0_19',
'10.18968/jhbl.82.0_27',
'10.18968/jhbl.82.0_39',
'10.18968/jhbl.82.0_47',
'10.18968/jhbl.82.0_61',
'10.18968/jhbl.82.0_77',
'10.18968/jhbl.82.0_99',
'10.18968/jhbl.82.0_105',
'10.18968/jhbl.82.0_123',
'10.18968/jhbl.82.0_143',
'10.18968/jhbl.82.0_157',
'10.18968/jhbl.82.0_171',
'10.18968/jhbl.82.0_181',
'10.18968/jhbl.82.0_185',
'10.18968/jhbl.82.0_191',
'10.18968/jhbl.82.0_203',
'10.18968/jhbl.82.0_213',
'10.18968/jhbl.82.0_227',
'10.18968/jhbl.82.0_245',
'10.18968/jhbl.82.0_253',
'10.18968/jhbl.82.0_261',
'10.18968/jhbl.82.0_271',
'10.18968/jhbl.82.0_281',
'10.18968/jhbl.82.0_305',
'10.18968/jhbl.82.0_321',
'10.18968/jhbl.82.0_329',
'10.18968/jhbl.82.0_337',
'10.18968/jhbl.82.0_343',
'10.18968/jhbl.83.0_1',
'10.18968/jhbl.83.0_75',
'10.18968/jhbl.83.0_173',
'10.18968/jhbl.83.0_179',
'10.18968/jhbl.83.0_187',
'10.18968/jhbl.83.0_229',
'10.18968/jhbl.83.0_237',
'10.18968/jhbl.83.0_251',
'10.18968/jhbl.83.0_257',
'10.18968/jhbl.83.0_265',
'10.18968/jhbl.83.0_273',
'10.18968/jhbl.84.0_1',
'10.18968/jhbl.84.0_11',
'10.18968/jhbl.84.0_21',
'10.18968/jhbl.84.0_29',
'10.18968/jhbl.84.0_37',
'10.18968/jhbl.84.0_49',
'10.18968/jhbl.84.0_57',
'10.18968/jhbl.84.0_71',
'10.18968/jhbl.84.0_81',
'10.18968/jhbl.84.0_91',
'10.18968/jhbl.84.0_105',
'10.18968/jhbl.84.0_113',
'10.18968/jhbl.84.0_121',
'10.18968/jhbl.84.0_135',
'10.18968/jhbl.84.0_159',
'10.18968/jhbl.84.0_175',
'10.18968/jhbl.84.0_187',
'10.18968/jhbl.84.0_199',
'10.18968/jhbl.84.0_203',
'10.18968/jhbl.84.0_241',
'10.18968/jhbl.84.0_285',
'10.18968/jhbl.84.0_297',
'10.18968/jhbl.84.0_309',
'10.18968/jhbl.84.0_315',
'10.18968/jhbl.85.0_1',
'10.18968/jhbl.85.0_33',
'10.18968/jhbl.85.0_63',
'10.18968/jhbl.85.0_83',
'10.18968/jhbl.85.0_89',
'10.18968/jhbl.85.0_95',
'10.18968/jhbl.85.0_103',
'10.18968/jhbl.85.0_191',
'10.18968/jhbl.85.0_239',
'10.18968/jhbl.85.0_245',
'10.18968/jhbl.85.0_267',
'10.18968/jhbl.5.0_1',
'10.18968/jhbl.5.0_6',
'10.18968/jhbl.5.0_7',
'10.18968/jhbl.5.0_40',
'10.18968/jhbl.5.0_43',
'10.18968/jhbl.5.0_68',
'10.18968/jhbl.5.0_69',
'10.18968/jhbl.5.0_i_1',
'10.18968/jhbl.5.0_i_2',
'10.18968/jhbl.86.0_1',
'10.18968/jhbl.86.0_71',
'10.18968/jhbl.86.0_89',
'10.18968/jhbl.86.0_121',
'10.18968/jhbl.86.0_137',
'10.18968/jhbl.86.0_161',
'10.18968/jhbl.86.0_169',
'10.18968/jhbl.86.0_175',
'10.18968/jhbl.86.0_179',
'10.18968/jhbl.86.0_187',
'10.18968/jhbl.86.0_221',
'10.18968/jhbl.86.0_235',
'10.18968/jhbl.86.0_243',
'10.18968/jhbl.87.0_1',
'10.18968/jhbl.87.0_131',
'10.18968/jhbl.87.0_259',
'10.18968/jhbl.87.0_277',
'10.18968/jhbl.87.0_287',
'10.18968/jhbl.87.0_295',
'10.18968/jhbl.87.0_301',
'10.18968/jhbl.87.0_309',
'10.18968/jhbl.87.0_315',
'10.18968/jhbl.88.0_1',
'10.18968/jhbl.88.0_51',
'10.18968/jhbl.88.0_61',
'10.18968/jhbl.88.0_69',
'10.18968/jhbl.88.0_79',
'10.18968/jhbl.88.0_101',
'10.18968/jhbl.88.0_139',
'10.18968/jhbl.88.0_147',
'10.18968/jhbl.88.0_179',
'10.18968/jhbl.88.0_191',
'10.18968/jhbl.88.0_199',
'10.18968/jhbl.88.0_245',
'10.18968/jhbl.88.0_257',
'10.18968/jhbl.88.0_267',
'10.18968/jhbl.88.0_271',
'10.18968/jhbl.89.0_1',
'10.18968/jhbl.89.0_55',
'10.18968/jhbl.89.0_71',
'10.18968/jhbl.89.0_93',
'10.18968/jhbl.89.0_113',
'10.18968/jhbl.89.0_151',
'10.18968/jhbl.89.0_173',
'10.18968/jhbl.89.0_197',
'10.18968/jhbl.89.0_209',
'10.18968/jhbl.89.0_233',
'10.18968/jhbl.89.0_247',
'10.18968/jhbl.89.0_261',
'10.18968/jhbl.89.0_267',
'10.18968/jhbl.89.0_283',
'10.18968/jhbl.89.0_289',
'10.18968/jhbl.89.0_299',
'10.18968/jhbl.90.0_1',
'10.18968/jhbl.90.0_97',
'10.18968/jhbl.90.0_167',
'10.18968/jhbl.90.0_211',
'10.18968/jhbl.90.0_221',
'10.18968/jhbl.90.0_241',
'10.18968/jhbl.90.0_245',
'10.18968/jhbl.90.0_251',
'10.18968/jhbl.90.0_269',
'10.18968/jhbl.90.0_293',
'10.18968/jhbl.90.0_307'
);


$count = 1;

foreach ($dois as $doi)
{
	//echo $doi . "\n";
	
	$url = 'https://doi.org/' . $doi;
	$json = get($url, '', 'application/vnd.citationstyles.csl+json');
	
	if ($json == '')
	{
		echo "xxx\n";
	}
		
	if (1)			
	{
		$obj = json_decode($json);
		
		//print_r($obj);
		
		if (!isset($obj->type))
		{
			$obj->type = 'article-journal';
		}

		$ris = csl_to_ris($obj);
	
		echo $ris . "\n";
	}
	
	// Give server a break every 10 items
	if (($count++ % 10) == 0)
	{
		$rand = rand(1000000, 3000000);
		usleep($rand);
	}	
}


?>
